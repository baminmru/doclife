/****************************************************
 *       CHOOSE.H                                   *
 *  Copyright (C) Михаил М. Баранов                 *
 *  Модификация без предварительного согласия автора*
 *  будет рассматривается как нарушение авторского  *
 *  и имущественного права                          *
 *  создан: 21 Сентября 1995, Четверг               *
 ****************************************************/

enum{ csValue=1,csBorders, csSubstr, csClass, csVocabulary};

struct _ChooseType {
  short field;
  short type;
              // 1 - используется значение
              // 2 - используется промежуток значений
              // 3 - используется вхождение
              // 4 - используется значение по классификатору
              // 5 - используется значение из справочника

  short relation; // - номер файла справочника / классификатора
  short relkey;   // - ключ для связи со справочником
  short vfield;   // - поле для показа в справочнике
  void (*Writer)(void * ,char*); // процедура показа  строки классификатора
  unsigned char yn;     // - поле используется для поиска
};
// по маске строится условие для выбора записи l,r той же структуры что и запись
// в базе данных
void ChooseTheDocs(Table *t, _ChooseType *mask, char *l, char *r);

// для записи rec проверяется условие (mask+l+r)
short CheckRecord (Table *t, _ChooseType *mask, void *rec, void *l , void *r);
void ChooseTheDocs(_FileView *fv);
